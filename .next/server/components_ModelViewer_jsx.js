"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_ModelViewer_jsx";
exports.ids = ["components_ModelViewer_jsx"];
exports.modules = {

/***/ "./components/ModelViewer.jsx":
/*!************************************!*\
  !*** ./components/ModelViewer.jsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModelViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ \"three/examples/jsm/controls/OrbitControls.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_4__]);\n([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst FLOOR_Y = 0;\nconst LAYOUT_KEY = \"lou-re-furniture-layout-v1\";\nconst ROOM_ID = \"demo-room-1\"; // later you can make this dynamic per room/upload\nfunction ModelViewer({ file }) {\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const furnitureHelpersRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        addSofa: null,\n        addTable: null,\n        addPlant: null,\n        clearFurniture: null,\n        saveCloud: null,\n        loadCloud: null\n    });\n    const furnitureGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const controlsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const container = containerRef.current;\n        if (!container) return;\n        // --- basic sizes based on container, not whole window ---\n        const width = container.clientWidth || window.innerWidth;\n        const height = container.clientHeight || window.innerHeight;\n        const scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\n        scene.background = new three__WEBPACK_IMPORTED_MODULE_2__.Color(0x111111);\n        const camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(50, width / height, 0.1, 1000);\n        camera.position.set(0, 1.6, 4); // ~human height\n        const renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({\n            antialias: true\n        });\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(width, height);\n        container.appendChild(renderer.domElement);\n        const ambientLight = new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(0xffffff, 1.2);\n        scene.add(ambientLight);\n        const directionalLight = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xffffff, 3);\n        directionalLight.position.set(5, 10, 7);\n        scene.add(directionalLight);\n        const furnitureGroup = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n        scene.add(furnitureGroup);\n        furnitureGroupRef.current = furnitureGroup;\n        let roomCenter = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 0);\n        const ROTATION_STEP = Math.PI / 16;\n        const raycaster = new three__WEBPACK_IMPORTED_MODULE_2__.Raycaster();\n        const pointer = new three__WEBPACK_IMPORTED_MODULE_2__.Vector2();\n        const dragPlane = new three__WEBPACK_IMPORTED_MODULE_2__.Plane(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 1, 0), -FLOOR_Y);\n        let selectedFurniture = null;\n        let isDragging = false;\n        // -----------------------\n        // Layout helpers\n        // -----------------------\n        function getCurrentLayout() {\n            if (!furnitureGroupRef.current) return [];\n            return furnitureGroupRef.current.children.map((child)=>{\n                const type = child.userData?.furnitureType;\n                if (!type) return null;\n                return {\n                    type,\n                    position: child.position.toArray(),\n                    rotation: [\n                        child.rotation.x,\n                        child.rotation.y,\n                        child.rotation.z\n                    ]\n                };\n            }).filter(Boolean);\n        }\n        function saveFurnitureLayout() {\n            if (true) return;\n            const layout = getCurrentLayout();\n            try {\n                window.localStorage.setItem(LAYOUT_KEY, JSON.stringify(layout));\n            } catch (err) {\n                console.warn(\"Failed to save layout\", err);\n            }\n        }\n        function createFurnitureMesh(type) {\n            let mesh = null;\n            if (type === \"sofa\") {\n                const height = 0.7;\n                mesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(1.5, height, 0.6), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                    color: 0x6cb2ff,\n                    roughness: 0.4\n                }));\n                mesh.userData.floorOffset = height / 2;\n            } else if (type === \"table\") {\n                const height = 0.4;\n                mesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(0.9, height, 0.9), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                    color: 0xffd37a,\n                    roughness: 0.3\n                }));\n                mesh.userData.floorOffset = height / 2;\n            } else if (type === \"plant\") {\n                const potHeight = 0.35;\n                const pot = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(0.2, 0.25, potHeight, 20), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                    color: 0xa66a3d\n                }));\n                pot.position.y = potHeight / 2;\n                const leaves = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.ConeGeometry(0.4, 0.8, 24), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                    color: 0x4ade80\n                }));\n                leaves.position.y = potHeight + 0.4;\n                mesh = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n                mesh.add(pot);\n                mesh.add(leaves);\n                mesh.userData.floorOffset = FLOOR_Y;\n            }\n            if (mesh) {\n                mesh.userData.furnitureType = type;\n                const floorY = FLOOR_Y + (mesh.userData.floorOffset || 0);\n                mesh.position.y = floorY;\n                mesh.userData.floorY = floorY;\n            }\n            return mesh;\n        }\n        function getDefaultPosition(type) {\n            if (type === \"sofa\") {\n                return new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(roomCenter.x - 0.6, FLOOR_Y, roomCenter.z);\n            }\n            if (type === \"table\") {\n                return new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(roomCenter.x + 0.4, FLOOR_Y, roomCenter.z);\n            }\n            if (type === \"plant\") {\n                return new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(roomCenter.x, FLOOR_Y, roomCenter.z + 0.7);\n            }\n            return roomCenter.clone();\n        }\n        function spawnFurniture(type, options = {}) {\n            if (!furnitureGroupRef.current) return null;\n            const mesh = createFurnitureMesh(type);\n            if (!mesh) return null;\n            const position = options.position ? new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(...options.position) : getDefaultPosition(type);\n            mesh.position.x = position.x;\n            mesh.position.z = position.z;\n            mesh.position.y = options.position?.[1] ?? mesh.userData.floorY ?? FLOOR_Y + (mesh.userData.floorOffset || 0);\n            if (options.rotation) {\n                mesh.rotation.set(options.rotation[0], options.rotation[1], options.rotation[2]);\n            }\n            furnitureGroupRef.current.add(mesh);\n            return mesh;\n        }\n        function removeFurniture(mesh) {\n            if (!mesh || !furnitureGroupRef.current) return;\n            furnitureGroupRef.current.remove(mesh);\n            mesh.traverse?.((obj)=>{\n                if (obj.isMesh) {\n                    obj.geometry?.dispose?.();\n                    if (Array.isArray(obj.material)) {\n                        obj.material.forEach((mat)=>mat?.dispose?.());\n                    } else {\n                        obj.material?.dispose?.();\n                    }\n                }\n            });\n            mesh.geometry?.dispose?.();\n            if (Array.isArray(mesh.material)) {\n                mesh.material.forEach((mat)=>mat?.dispose?.());\n            } else {\n                mesh.material?.dispose?.();\n            }\n        }\n        function clearFurniture() {\n            if (!furnitureGroupRef.current) return;\n            const group = furnitureGroupRef.current;\n            while(group.children.length){\n                removeFurniture(group.children[0]);\n            }\n            saveFurnitureLayout();\n        }\n        function loadFurnitureLayout() {\n            if (true) return;\n            try {\n                const raw = window.localStorage.getItem(LAYOUT_KEY);\n                if (!raw) return;\n                const layout = JSON.parse(raw);\n                layout.forEach((item)=>{\n                    const mesh = spawnFurniture(item.type, {\n                        position: item.position,\n                        rotation: item.rotation\n                    });\n                    if (mesh) {\n                        mesh.userData.floorY = item.position?.[1] ?? (mesh.userData.floorY || FLOOR_Y + (mesh.userData.floorOffset || 0));\n                    }\n                });\n            } catch (err) {\n                console.warn(\"Failed to load layout\", err);\n            }\n        }\n        // -----------------------\n        // Cloud save/load helpers\n        // -----------------------\n        async function saveLayoutToCloud() {\n            try {\n                const layout = getCurrentLayout();\n                await fetch(\"/api/save-layout\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        room_id: ROOM_ID,\n                        layout\n                    })\n                });\n                // optional: also keep local copy in localStorage\n                saveFurnitureLayout();\n                alert(\"Layout saved to cloud ✅\");\n            } catch (err) {\n                console.error(\"Failed to save layout to cloud\", err);\n                alert(\"Error saving layout to cloud\");\n            }\n        }\n        async function loadLayoutFromCloud() {\n            try {\n                const res = await fetch(`/api/load-layout?room_id=${encodeURIComponent(ROOM_ID)}`);\n                if (!res.ok) {\n                    console.error(\"Cloud load failed\", await res.text());\n                    alert(\"Error loading layout from cloud\");\n                    return;\n                }\n                const data = await res.json();\n                if (!data.layout) {\n                    alert(\"No saved layout found in cloud yet\");\n                    return;\n                }\n                clearFurniture();\n                data.layout.forEach((item)=>{\n                    spawnFurniture(item.type, {\n                        position: item.position,\n                        rotation: item.rotation\n                    });\n                });\n                saveFurnitureLayout(); // sync to local\n                alert(\"Layout loaded from cloud ✅\");\n            } catch (err) {\n                console.error(\"Failed to load layout from cloud\", err);\n                alert(\"Error loading layout from cloud\");\n            }\n        }\n        // expose helpers to React buttons\n        furnitureHelpersRef.current = {\n            addSofa: ()=>{\n                const mesh = spawnFurniture(\"sofa\");\n                if (mesh) saveFurnitureLayout();\n            },\n            addTable: ()=>{\n                const mesh = spawnFurniture(\"table\");\n                if (mesh) saveFurnitureLayout();\n            },\n            addPlant: ()=>{\n                const mesh = spawnFurniture(\"plant\");\n                if (mesh) saveFurnitureLayout();\n            },\n            clearFurniture,\n            saveCloud: saveLayoutToCloud,\n            loadCloud: loadLayoutFromCloud\n        };\n        // -----------------------\n        // Controls & model loading\n        // -----------------------\n        const controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_4__.OrbitControls(camera, renderer.domElement);\n        controlsRef.current = controls;\n        controls.enableDamping = true;\n        controls.dampingFactor = 0.05;\n        controls.enablePan = true;\n        controls.maxPolarAngle = Math.PI / 2.05;\n        controls.minDistance = 1;\n        controls.maxDistance = 50;\n        const loader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__.GLTFLoader();\n        loader.load(file, (gltf)=>{\n            gltf.scene.scale.set(1, 1, 1);\n            gltf.scene.position.set(0, 0, 0);\n            scene.add(gltf.scene);\n            const box = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromObject(gltf.scene);\n            const size = box.getSize(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3()).length();\n            const center = box.getCenter(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\n            roomCenter = center.clone();\n            controls.target.copy(center);\n            camera.position.set(center.x + size * 0.6, center.y + size * 0.3, center.z + size * 0.6);\n            camera.lookAt(center);\n            // once the room is loaded, restore any saved furniture\n            loadFurnitureLayout();\n        }, (xhr)=>{\n            if (xhr.total) {\n                const percent = (xhr.loaded / xhr.total * 100).toFixed(1);\n                console.log(`Loading model: ${percent}%`);\n            }\n        }, (error)=>{\n            console.error(\"Failed to load GLB model:\", error);\n            // still try to load layout in case we want to handle fallback later\n            loadFurnitureLayout();\n        });\n        // -----------------------\n        // Interaction handlers\n        // -----------------------\n        const handleResize = ()=>{\n            const newWidth = container.clientWidth || window.innerWidth;\n            const newHeight = container.clientHeight || window.innerHeight;\n            camera.aspect = newWidth / newHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(newWidth, newHeight);\n        };\n        window.addEventListener(\"resize\", handleResize);\n        function updatePointer(event) {\n            const rect = renderer.domElement.getBoundingClientRect();\n            pointer.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n            pointer.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n        }\n        function findFurnitureRoot(object) {\n            let current = object;\n            while(current){\n                if (current.userData?.furnitureType) return current;\n                current = current.parent;\n            }\n            return null;\n        }\n        const handlePointerDown = (event)=>{\n            if (!furnitureGroupRef.current) return;\n            updatePointer(event);\n            raycaster.setFromCamera(pointer, camera);\n            const intersects = raycaster.intersectObjects(furnitureGroupRef.current.children, true);\n            if (intersects.length > 0) {\n                const root = findFurnitureRoot(intersects[0].object);\n                if (root) {\n                    selectedFurniture = root;\n                    isDragging = true;\n                    controls.enabled = false;\n                } else {\n                    selectedFurniture = null;\n                    isDragging = false;\n                }\n            } else {\n                selectedFurniture = null;\n                isDragging = false;\n            }\n        };\n        const handlePointerMove = (event)=>{\n            if (!isDragging || !selectedFurniture) return;\n            updatePointer(event);\n            raycaster.setFromCamera(pointer, camera);\n            const intersectionPoint = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n            if (raycaster.ray.intersectPlane(dragPlane, intersectionPoint)) {\n                selectedFurniture.position.x = intersectionPoint.x;\n                selectedFurniture.position.z = intersectionPoint.z;\n                const floorY = selectedFurniture.userData?.floorY;\n                if (typeof floorY === \"number\") {\n                    selectedFurniture.position.y = floorY;\n                }\n            }\n        };\n        const endDrag = ()=>{\n            if (!isDragging) return;\n            isDragging = false;\n            controls.enabled = true;\n            if (selectedFurniture) {\n                saveFurnitureLayout();\n            }\n        };\n        const handlePointerUp = ()=>{\n            endDrag();\n        };\n        const handlePointerLeave = ()=>{\n            endDrag();\n        };\n        const handleKeyDown = (event)=>{\n            if ((event.key === \"Delete\" || event.key === \"Backspace\") && selectedFurniture) {\n                removeFurniture(selectedFurniture);\n                selectedFurniture = null;\n                saveFurnitureLayout();\n                return;\n            }\n            const rotateLeft = event.key === \"q\" || event.key === \"Q\" || event.key === \"ArrowLeft\";\n            const rotateRight = event.key === \"e\" || event.key === \"E\" || event.key === \"ArrowRight\";\n            if (selectedFurniture && (rotateLeft || rotateRight)) {\n                const delta = rotateLeft ? -ROTATION_STEP : ROTATION_STEP;\n                selectedFurniture.rotation.y += delta;\n                saveFurnitureLayout();\n                return;\n            }\n            if ((event.key === \"l\" || event.key === \"L\") && (event.metaKey || event.ctrlKey) && event.shiftKey) {\n                const layout = getCurrentLayout();\n                const json = JSON.stringify(layout, null, 2);\n                console.log(\"[Lou-re] furniture layout:\\n\", json);\n                if (navigator?.clipboard?.writeText) {\n                    navigator.clipboard.writeText(json).catch(()=>{});\n                }\n                event.preventDefault();\n            }\n        };\n        renderer.domElement.addEventListener(\"pointerdown\", handlePointerDown);\n        renderer.domElement.addEventListener(\"pointermove\", handlePointerMove);\n        renderer.domElement.addEventListener(\"pointerup\", handlePointerUp);\n        renderer.domElement.addEventListener(\"pointerleave\", handlePointerLeave);\n        window.addEventListener(\"keydown\", handleKeyDown);\n        let animationFrame;\n        const animate = ()=>{\n            controls.update();\n            renderer.render(scene, camera);\n            animationFrame = requestAnimationFrame(animate);\n        };\n        animate();\n        return ()=>{\n            cancelAnimationFrame(animationFrame);\n            window.removeEventListener(\"resize\", handleResize);\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            renderer.domElement.removeEventListener(\"pointerdown\", handlePointerDown);\n            renderer.domElement.removeEventListener(\"pointermove\", handlePointerMove);\n            renderer.domElement.removeEventListener(\"pointerup\", handlePointerUp);\n            renderer.domElement.removeEventListener(\"pointerleave\", handlePointerLeave);\n            controls.dispose();\n            renderer.dispose();\n            if (container && container.contains(renderer.domElement)) {\n                container.removeChild(renderer.domElement);\n            }\n            clearFurniture();\n            furnitureHelpersRef.current = {\n                addSofa: null,\n                addTable: null,\n                addPlant: null,\n                clearFurniture: null,\n                saveCloud: null,\n                loadCloud: null\n            };\n            furnitureGroupRef.current = null;\n        };\n    }, [\n        file\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100vh\",\n            overflow: \"hidden\",\n            background: \"#000\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                style: {\n                    width: \"100%\",\n                    height: \"100%\",\n                    overflow: \"hidden\",\n                    background: \"#000\",\n                    cursor: \"grab\"\n                }\n            }, void 0, false, {\n                fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                lineNumber: 537,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"louref-toolbar\",\n                style: {\n                    position: \"absolute\",\n                    right: \"16px\",\n                    top: \"80px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: \"8px\",\n                    padding: \"12px\",\n                    borderRadius: \"12px\",\n                    background: \"rgba(10, 10, 10, 0.9)\",\n                    color: \"#fff\",\n                    fontSize: \"13px\",\n                    maxWidth: \"240px\",\n                    zIndex: 10\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontWeight: 600,\n                            marginBottom: \"4px\"\n                        },\n                        children: \"Furniture tools\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 565,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            opacity: 0.8,\n                            marginBottom: \"8px\"\n                        },\n                        children: \"Click to drop furniture. Click an item to select, drag to move, use Q/E or ←/→ to rotate, press Delete to remove, and press Ctrl/⌘ + Shift + L to copy layout JSON.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 568,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.addSofa?.(),\n                        style: toolbarButtonStyle,\n                        children: \"+ Add sofa (box)\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 573,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.addTable?.(),\n                        style: toolbarButtonStyle,\n                        children: \"+ Add table (box)\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 579,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.addPlant?.(),\n                        style: toolbarButtonStyle,\n                        children: \"+ Add plant (cylinder + cone)\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 585,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        style: {\n                            borderColor: \"#333\",\n                            margin: \"6px 0\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 592,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.saveCloud?.(),\n                        style: toolbarButtonStyle,\n                        children: \"\\uD83D\\uDCBE Save layout to cloud\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 594,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.loadCloud?.(),\n                        style: toolbarButtonStyle,\n                        children: \"☁️ Load layout from cloud\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 600,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>furnitureHelpersRef.current.clearFurniture?.(),\n                        style: {\n                            ...toolbarButtonStyle,\n                            marginTop: \"4px\",\n                            border: \"1px solid #555\",\n                            background: \"#220000\",\n                            color: \"#ffb3b3\"\n                        },\n                        children: \"Clear all furniture\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                        lineNumber: 607,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n                lineNumber: 547,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mauriciomendoza/Desktop/lou-re-3d-core/components/ModelViewer.jsx\",\n        lineNumber: 528,\n        columnNumber: 5\n    }, this);\n}\nconst toolbarButtonStyle = {\n    padding: \"6px 10px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #333\",\n    background: \"#111\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    textAlign: \"left\"\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b21wb25lbnRzL01vZGVsVmlld2VyLmpzeD8zZTE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qc1wiO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qc1wiO1xuXG5jb25zdCBGTE9PUl9ZID0gMDtcbmNvbnN0IExBWU9VVF9LRVkgPSBcImxvdS1yZS1mdXJuaXR1cmUtbGF5b3V0LXYxXCI7XG5jb25zdCBST09NX0lEID0gXCJkZW1vLXJvb20tMVwiOyAvLyBsYXRlciB5b3UgY2FuIG1ha2UgdGhpcyBkeW5hbWljIHBlciByb29tL3VwbG9hZFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbFZpZXdlcih7IGZpbGUgfSkge1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGZ1cm5pdHVyZUhlbHBlcnNSZWYgPSB1c2VSZWYoe1xuICAgIGFkZFNvZmE6IG51bGwsXG4gICAgYWRkVGFibGU6IG51bGwsXG4gICAgYWRkUGxhbnQ6IG51bGwsXG4gICAgY2xlYXJGdXJuaXR1cmU6IG51bGwsXG4gICAgc2F2ZUNsb3VkOiBudWxsLFxuICAgIGxvYWRDbG91ZDogbnVsbCxcbiAgfSk7XG4gIGNvbnN0IGZ1cm5pdHVyZUdyb3VwUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjb250cm9sc1JlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAvLyAtLS0gYmFzaWMgc2l6ZXMgYmFzZWQgb24gY29udGFpbmVyLCBub3Qgd2hvbGUgd2luZG93IC0tLVxuICAgIGNvbnN0IHdpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQgfHwgd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MTExMTExKTtcblxuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgd2lkdGggLyBoZWlnaHQsIDAuMSwgMTAwMCk7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAxLjYsIDQpOyAvLyB+aHVtYW4gaGVpZ2h0XG5cbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMS4yKTtcbiAgICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcblxuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMyk7XG4gICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoNSwgMTAsIDcpO1xuICAgIHNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0KTtcblxuICAgIGNvbnN0IGZ1cm5pdHVyZUdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgc2NlbmUuYWRkKGZ1cm5pdHVyZUdyb3VwKTtcbiAgICBmdXJuaXR1cmVHcm91cFJlZi5jdXJyZW50ID0gZnVybml0dXJlR3JvdXA7XG5cbiAgICBsZXQgcm9vbUNlbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApO1xuICAgIGNvbnN0IFJPVEFUSU9OX1NURVAgPSBNYXRoLlBJIC8gMTY7XG5cbiAgICBjb25zdCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgY29uc3QgcG9pbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgY29uc3QgZHJhZ1BsYW5lID0gbmV3IFRIUkVFLlBsYW5lKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCAtRkxPT1JfWSk7XG4gICAgbGV0IHNlbGVjdGVkRnVybml0dXJlID0gbnVsbDtcbiAgICBsZXQgaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBMYXlvdXQgaGVscGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudExheW91dCgpIHtcbiAgICAgIGlmICghZnVybml0dXJlR3JvdXBSZWYuY3VycmVudCkgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIGZ1cm5pdHVyZUdyb3VwUmVmLmN1cnJlbnQuY2hpbGRyZW5cbiAgICAgICAgLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gY2hpbGQudXNlckRhdGE/LmZ1cm5pdHVyZVR5cGU7XG4gICAgICAgICAgaWYgKCF0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBjaGlsZC5wb3NpdGlvbi50b0FycmF5KCksXG4gICAgICAgICAgICByb3RhdGlvbjogW2NoaWxkLnJvdGF0aW9uLngsIGNoaWxkLnJvdGF0aW9uLnksIGNoaWxkLnJvdGF0aW9uLnpdLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZUZ1cm5pdHVyZUxheW91dCgpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICAhZnVybml0dXJlR3JvdXBSZWYuY3VycmVudCB8fFxuICAgICAgICAhd2luZG93LmxvY2FsU3RvcmFnZVxuICAgICAgKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBsYXlvdXQgPSBnZXRDdXJyZW50TGF5b3V0KCk7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTEFZT1VUX0tFWSwgSlNPTi5zdHJpbmdpZnkobGF5b3V0KSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNhdmUgbGF5b3V0XCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRnVybml0dXJlTWVzaCh0eXBlKSB7XG4gICAgICBsZXQgbWVzaCA9IG51bGw7XG4gICAgICBpZiAodHlwZSA9PT0gXCJzb2ZhXCIpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMC43O1xuICAgICAgICBtZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgICAgICAgbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEuNSwgaGVpZ2h0LCAwLjYpLFxuICAgICAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHg2Y2IyZmYsXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuNCxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBtZXNoLnVzZXJEYXRhLmZsb29yT2Zmc2V0ID0gaGVpZ2h0IC8gMjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDAuNDtcbiAgICAgICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICAgIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjksIGhlaWdodCwgMC45KSxcbiAgICAgICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4ZmZkMzdhLFxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjMsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgbWVzaC51c2VyRGF0YS5mbG9vck9mZnNldCA9IGhlaWdodCAvIDI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwicGxhbnRcIikge1xuICAgICAgICBjb25zdCBwb3RIZWlnaHQgPSAwLjM1O1xuICAgICAgICBjb25zdCBwb3QgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgICBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjIsIDAuMjUsIHBvdEhlaWdodCwgMjApLFxuICAgICAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGE2NmEzZCB9KVxuICAgICAgICApO1xuICAgICAgICBwb3QucG9zaXRpb24ueSA9IHBvdEhlaWdodCAvIDI7XG4gICAgICAgIGNvbnN0IGxlYXZlcyA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICAgIG5ldyBUSFJFRS5Db25lR2VvbWV0cnkoMC40LCAwLjgsIDI0KSxcbiAgICAgICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHg0YWRlODAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgbGVhdmVzLnBvc2l0aW9uLnkgPSBwb3RIZWlnaHQgKyAwLjQ7XG4gICAgICAgIG1lc2ggPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgICAgbWVzaC5hZGQocG90KTtcbiAgICAgICAgbWVzaC5hZGQobGVhdmVzKTtcbiAgICAgICAgbWVzaC51c2VyRGF0YS5mbG9vck9mZnNldCA9IEZMT09SX1k7XG4gICAgICB9XG4gICAgICBpZiAobWVzaCkge1xuICAgICAgICBtZXNoLnVzZXJEYXRhLmZ1cm5pdHVyZVR5cGUgPSB0eXBlO1xuICAgICAgICBjb25zdCBmbG9vclkgPSBGTE9PUl9ZICsgKG1lc2gudXNlckRhdGEuZmxvb3JPZmZzZXQgfHwgMCk7XG4gICAgICAgIG1lc2gucG9zaXRpb24ueSA9IGZsb29yWTtcbiAgICAgICAgbWVzaC51c2VyRGF0YS5mbG9vclkgPSBmbG9vclk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREZWZhdWx0UG9zaXRpb24odHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFwic29mYVwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyhyb29tQ2VudGVyLnggLSAwLjYsIEZMT09SX1ksIHJvb21DZW50ZXIueik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyhyb29tQ2VudGVyLnggKyAwLjQsIEZMT09SX1ksIHJvb21DZW50ZXIueik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gXCJwbGFudFwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyhyb29tQ2VudGVyLngsIEZMT09SX1ksIHJvb21DZW50ZXIueiArIDAuNyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcm9vbUNlbnRlci5jbG9uZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNwYXduRnVybml0dXJlKHR5cGUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgaWYgKCFmdXJuaXR1cmVHcm91cFJlZi5jdXJyZW50KSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IG1lc2ggPSBjcmVhdGVGdXJuaXR1cmVNZXNoKHR5cGUpO1xuICAgICAgaWYgKCFtZXNoKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3QgcG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uXG4gICAgICAgID8gbmV3IFRIUkVFLlZlY3RvcjMoLi4ub3B0aW9ucy5wb3NpdGlvbilcbiAgICAgICAgOiBnZXREZWZhdWx0UG9zaXRpb24odHlwZSk7XG4gICAgICBtZXNoLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgbWVzaC5wb3NpdGlvbi56ID0gcG9zaXRpb24uejtcbiAgICAgIG1lc2gucG9zaXRpb24ueSA9XG4gICAgICAgIG9wdGlvbnMucG9zaXRpb24/LlsxXSA/P1xuICAgICAgICAobWVzaC51c2VyRGF0YS5mbG9vclkgPz8gRkxPT1JfWSArIChtZXNoLnVzZXJEYXRhLmZsb29yT2Zmc2V0IHx8IDApKTtcblxuICAgICAgaWYgKG9wdGlvbnMucm90YXRpb24pIHtcbiAgICAgICAgbWVzaC5yb3RhdGlvbi5zZXQoXG4gICAgICAgICAgb3B0aW9ucy5yb3RhdGlvblswXSxcbiAgICAgICAgICBvcHRpb25zLnJvdGF0aW9uWzFdLFxuICAgICAgICAgIG9wdGlvbnMucm90YXRpb25bMl1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZnVybml0dXJlR3JvdXBSZWYuY3VycmVudC5hZGQobWVzaCk7XG4gICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGdXJuaXR1cmUobWVzaCkge1xuICAgICAgaWYgKCFtZXNoIHx8ICFmdXJuaXR1cmVHcm91cFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBmdXJuaXR1cmVHcm91cFJlZi5jdXJyZW50LnJlbW92ZShtZXNoKTtcbiAgICAgIG1lc2gudHJhdmVyc2U/Ligob2JqKSA9PiB7XG4gICAgICAgIGlmIChvYmouaXNNZXNoKSB7XG4gICAgICAgICAgb2JqLmdlb21ldHJ5Py5kaXNwb3NlPy4oKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoubWF0ZXJpYWwpKSB7XG4gICAgICAgICAgICBvYmoubWF0ZXJpYWwuZm9yRWFjaCgobWF0KSA9PiBtYXQ/LmRpc3Bvc2U/LigpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqLm1hdGVyaWFsPy5kaXNwb3NlPy4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWVzaC5nZW9tZXRyeT8uZGlzcG9zZT8uKCk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNoLm1hdGVyaWFsKSkge1xuICAgICAgICBtZXNoLm1hdGVyaWFsLmZvckVhY2goKG1hdCkgPT4gbWF0Py5kaXNwb3NlPy4oKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNoLm1hdGVyaWFsPy5kaXNwb3NlPy4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckZ1cm5pdHVyZSgpIHtcbiAgICAgIGlmICghZnVybml0dXJlR3JvdXBSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXAgPSBmdXJuaXR1cmVHcm91cFJlZi5jdXJyZW50O1xuICAgICAgd2hpbGUgKGdyb3VwLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZW1vdmVGdXJuaXR1cmUoZ3JvdXAuY2hpbGRyZW5bMF0pO1xuICAgICAgfVxuICAgICAgc2F2ZUZ1cm5pdHVyZUxheW91dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRGdXJuaXR1cmVMYXlvdXQoKSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93LmxvY2FsU3RvcmFnZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmF3ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExBWU9VVF9LRVkpO1xuICAgICAgICBpZiAoIXJhdykgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXQgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgICAgIGxheW91dC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzaCA9IHNwYXduRnVybml0dXJlKGl0ZW0udHlwZSwge1xuICAgICAgICAgICAgcG9zaXRpb246IGl0ZW0ucG9zaXRpb24sXG4gICAgICAgICAgICByb3RhdGlvbjogaXRlbS5yb3RhdGlvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobWVzaCkge1xuICAgICAgICAgICAgbWVzaC51c2VyRGF0YS5mbG9vclkgPVxuICAgICAgICAgICAgICBpdGVtLnBvc2l0aW9uPy5bMV0gPz9cbiAgICAgICAgICAgICAgKG1lc2gudXNlckRhdGEuZmxvb3JZIHx8XG4gICAgICAgICAgICAgICAgRkxPT1JfWSArIChtZXNoLnVzZXJEYXRhLmZsb29yT2Zmc2V0IHx8IDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBsb2FkIGxheW91dFwiLCBlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ2xvdWQgc2F2ZS9sb2FkIGhlbHBlcnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGFzeW5jIGZ1bmN0aW9uIHNhdmVMYXlvdXRUb0Nsb3VkKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvc2F2ZS1sYXlvdXRcIiwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHJvb21faWQ6IFJPT01fSUQsXG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBvcHRpb25hbDogYWxzbyBrZWVwIGxvY2FsIGNvcHkgaW4gbG9jYWxTdG9yYWdlXG4gICAgICAgIHNhdmVGdXJuaXR1cmVMYXlvdXQoKTtcbiAgICAgICAgYWxlcnQoXCJMYXlvdXQgc2F2ZWQgdG8gY2xvdWQg4pyFXCIpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBsYXlvdXQgdG8gY2xvdWRcIiwgZXJyKTtcbiAgICAgICAgYWxlcnQoXCJFcnJvciBzYXZpbmcgbGF5b3V0IHRvIGNsb3VkXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRMYXlvdXRGcm9tQ2xvdWQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgL2FwaS9sb2FkLWxheW91dD9yb29tX2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFJPT01fSUQpfWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2xvdWQgbG9hZCBmYWlsZWRcIiwgYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICAgICAgYWxlcnQoXCJFcnJvciBsb2FkaW5nIGxheW91dCBmcm9tIGNsb3VkXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKCFkYXRhLmxheW91dCkge1xuICAgICAgICAgIGFsZXJ0KFwiTm8gc2F2ZWQgbGF5b3V0IGZvdW5kIGluIGNsb3VkIHlldFwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckZ1cm5pdHVyZSgpO1xuICAgICAgICBkYXRhLmxheW91dC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgc3Bhd25GdXJuaXR1cmUoaXRlbS50eXBlLCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogaXRlbS5wb3NpdGlvbixcbiAgICAgICAgICAgIHJvdGF0aW9uOiBpdGVtLnJvdGF0aW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzYXZlRnVybml0dXJlTGF5b3V0KCk7IC8vIHN5bmMgdG8gbG9jYWxcbiAgICAgICAgYWxlcnQoXCJMYXlvdXQgbG9hZGVkIGZyb20gY2xvdWQg4pyFXCIpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBsYXlvdXQgZnJvbSBjbG91ZFwiLCBlcnIpO1xuICAgICAgICBhbGVydChcIkVycm9yIGxvYWRpbmcgbGF5b3V0IGZyb20gY2xvdWRcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXhwb3NlIGhlbHBlcnMgdG8gUmVhY3QgYnV0dG9uc1xuICAgIGZ1cm5pdHVyZUhlbHBlcnNSZWYuY3VycmVudCA9IHtcbiAgICAgIGFkZFNvZmE6ICgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzaCA9IHNwYXduRnVybml0dXJlKFwic29mYVwiKTtcbiAgICAgICAgaWYgKG1lc2gpIHNhdmVGdXJuaXR1cmVMYXlvdXQoKTtcbiAgICAgIH0sXG4gICAgICBhZGRUYWJsZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXNoID0gc3Bhd25GdXJuaXR1cmUoXCJ0YWJsZVwiKTtcbiAgICAgICAgaWYgKG1lc2gpIHNhdmVGdXJuaXR1cmVMYXlvdXQoKTtcbiAgICAgIH0sXG4gICAgICBhZGRQbGFudDogKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXNoID0gc3Bhd25GdXJuaXR1cmUoXCJwbGFudFwiKTtcbiAgICAgICAgaWYgKG1lc2gpIHNhdmVGdXJuaXR1cmVMYXlvdXQoKTtcbiAgICAgIH0sXG4gICAgICBjbGVhckZ1cm5pdHVyZSxcbiAgICAgIHNhdmVDbG91ZDogc2F2ZUxheW91dFRvQ2xvdWQsXG4gICAgICBsb2FkQ2xvdWQ6IGxvYWRMYXlvdXRGcm9tQ2xvdWQsXG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ29udHJvbHMgJiBtb2RlbCBsb2FkaW5nXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBjb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgY29udHJvbHNSZWYuY3VycmVudCA9IGNvbnRyb2xzO1xuICAgIGNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSB0cnVlO1xuICAgIGNvbnRyb2xzLmRhbXBpbmdGYWN0b3IgPSAwLjA1O1xuICAgIGNvbnRyb2xzLmVuYWJsZVBhbiA9IHRydWU7XG4gICAgY29udHJvbHMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEkgLyAyLjA1O1xuICAgIGNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMTtcbiAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDUwO1xuXG4gICAgY29uc3QgbG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcbiAgICBsb2FkZXIubG9hZChcbiAgICAgIGZpbGUsXG4gICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICBnbHRmLnNjZW5lLnNjYWxlLnNldCgxLCAxLCAxKTtcbiAgICAgICAgZ2x0Zi5zY2VuZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIHNjZW5lLmFkZChnbHRmLnNjZW5lKTtcblxuICAgICAgICBjb25zdCBib3ggPSBuZXcgVEhSRUUuQm94MygpLnNldEZyb21PYmplY3QoZ2x0Zi5zY2VuZSk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBib3guZ2V0U2l6ZShuZXcgVEhSRUUuVmVjdG9yMygpKS5sZW5ndGgoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYm94LmdldENlbnRlcihuZXcgVEhSRUUuVmVjdG9yMygpKTtcbiAgICAgICAgcm9vbUNlbnRlciA9IGNlbnRlci5jbG9uZSgpO1xuXG4gICAgICAgIGNvbnRyb2xzLnRhcmdldC5jb3B5KGNlbnRlcik7XG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoXG4gICAgICAgICAgY2VudGVyLnggKyBzaXplICogMC42LFxuICAgICAgICAgIGNlbnRlci55ICsgc2l6ZSAqIDAuMywgLy8gZXllLWlzaCBoZWlnaHRcbiAgICAgICAgICBjZW50ZXIueiArIHNpemUgKiAwLjZcbiAgICAgICAgKTtcbiAgICAgICAgY2FtZXJhLmxvb2tBdChjZW50ZXIpO1xuXG4gICAgICAgIC8vIG9uY2UgdGhlIHJvb20gaXMgbG9hZGVkLCByZXN0b3JlIGFueSBzYXZlZCBmdXJuaXR1cmVcbiAgICAgICAgbG9hZEZ1cm5pdHVyZUxheW91dCgpO1xuICAgICAgfSxcbiAgICAgICh4aHIpID0+IHtcbiAgICAgICAgaWYgKHhoci50b3RhbCkge1xuICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoKHhoci5sb2FkZWQgLyB4aHIudG90YWwpICogMTAwKS50b0ZpeGVkKDEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBMb2FkaW5nIG1vZGVsOiAke3BlcmNlbnR9JWApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBHTEIgbW9kZWw6XCIsIGVycm9yKTtcbiAgICAgICAgLy8gc3RpbGwgdHJ5IHRvIGxvYWQgbGF5b3V0IGluIGNhc2Ugd2Ugd2FudCB0byBoYW5kbGUgZmFsbGJhY2sgbGF0ZXJcbiAgICAgICAgbG9hZEZ1cm5pdHVyZUxheW91dCgpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEludGVyYWN0aW9uIGhhbmRsZXJzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdXaWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQgfHwgd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY2FtZXJhLmFzcGVjdCA9IG5ld1dpZHRoIC8gbmV3SGVpZ2h0O1xuICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHJlbmRlcmVyLnNldFNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQb2ludGVyKGV2ZW50KSB7XG4gICAgICBjb25zdCByZWN0ID0gcmVuZGVyZXIuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHBvaW50ZXIueCA9ICgoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDIgLSAxO1xuICAgICAgcG9pbnRlci55ID0gLSgoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0KSAqIDIgKyAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRGdXJuaXR1cmVSb290KG9iamVjdCkge1xuICAgICAgbGV0IGN1cnJlbnQgPSBvYmplY3Q7XG4gICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICBpZiAoY3VycmVudC51c2VyRGF0YT8uZnVybml0dXJlVHlwZSkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWZ1cm5pdHVyZUdyb3VwUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIHVwZGF0ZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEocG9pbnRlciwgY2FtZXJhKTtcbiAgICAgIGNvbnN0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhcbiAgICAgICAgZnVybml0dXJlR3JvdXBSZWYuY3VycmVudC5jaGlsZHJlbixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGZpbmRGdXJuaXR1cmVSb290KGludGVyc2VjdHNbMF0ub2JqZWN0KTtcbiAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICBzZWxlY3RlZEZ1cm5pdHVyZSA9IHJvb3Q7XG4gICAgICAgICAgaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgY29udHJvbHMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdGVkRnVybml0dXJlID0gbnVsbDtcbiAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkRnVybml0dXJlID0gbnVsbDtcbiAgICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nIHx8ICFzZWxlY3RlZEZ1cm5pdHVyZSkgcmV0dXJuO1xuICAgICAgdXBkYXRlUG9pbnRlcihldmVudCk7XG4gICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShwb2ludGVyLCBjYW1lcmEpO1xuICAgICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgaWYgKHJheWNhc3Rlci5yYXkuaW50ZXJzZWN0UGxhbmUoZHJhZ1BsYW5lLCBpbnRlcnNlY3Rpb25Qb2ludCkpIHtcbiAgICAgICAgc2VsZWN0ZWRGdXJuaXR1cmUucG9zaXRpb24ueCA9IGludGVyc2VjdGlvblBvaW50Lng7XG4gICAgICAgIHNlbGVjdGVkRnVybml0dXJlLnBvc2l0aW9uLnogPSBpbnRlcnNlY3Rpb25Qb2ludC56O1xuICAgICAgICBjb25zdCBmbG9vclkgPSBzZWxlY3RlZEZ1cm5pdHVyZS51c2VyRGF0YT8uZmxvb3JZO1xuICAgICAgICBpZiAodHlwZW9mIGZsb29yWSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHNlbGVjdGVkRnVybml0dXJlLnBvc2l0aW9uLnkgPSBmbG9vclk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZW5kRHJhZyA9ICgpID0+IHtcbiAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgY29udHJvbHMuZW5hYmxlZCA9IHRydWU7XG4gICAgICBpZiAoc2VsZWN0ZWRGdXJuaXR1cmUpIHtcbiAgICAgICAgc2F2ZUZ1cm5pdHVyZUxheW91dCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQb2ludGVyVXAgPSAoKSA9PiB7XG4gICAgICBlbmREcmFnKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgIGVuZERyYWcoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICAoZXZlbnQua2V5ID09PSBcIkRlbGV0ZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJCYWNrc3BhY2VcIikgJiZcbiAgICAgICAgc2VsZWN0ZWRGdXJuaXR1cmVcbiAgICAgICkge1xuICAgICAgICByZW1vdmVGdXJuaXR1cmUoc2VsZWN0ZWRGdXJuaXR1cmUpO1xuICAgICAgICBzZWxlY3RlZEZ1cm5pdHVyZSA9IG51bGw7XG4gICAgICAgIHNhdmVGdXJuaXR1cmVMYXlvdXQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByb3RhdGVMZWZ0ID1cbiAgICAgICAgZXZlbnQua2V5ID09PSBcInFcIiB8fFxuICAgICAgICBldmVudC5rZXkgPT09IFwiUVwiIHx8XG4gICAgICAgIGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIjtcbiAgICAgIGNvbnN0IHJvdGF0ZVJpZ2h0ID1cbiAgICAgICAgZXZlbnQua2V5ID09PSBcImVcIiB8fFxuICAgICAgICBldmVudC5rZXkgPT09IFwiRVwiIHx8XG4gICAgICAgIGV2ZW50LmtleSA9PT0gXCJBcnJvd1JpZ2h0XCI7XG5cbiAgICAgIGlmIChzZWxlY3RlZEZ1cm5pdHVyZSAmJiAocm90YXRlTGVmdCB8fCByb3RhdGVSaWdodCkpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSByb3RhdGVMZWZ0ID8gLVJPVEFUSU9OX1NURVAgOiBST1RBVElPTl9TVEVQO1xuICAgICAgICBzZWxlY3RlZEZ1cm5pdHVyZS5yb3RhdGlvbi55ICs9IGRlbHRhO1xuICAgICAgICBzYXZlRnVybml0dXJlTGF5b3V0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAoZXZlbnQua2V5ID09PSBcImxcIiB8fCBldmVudC5rZXkgPT09IFwiTFwiKSAmJlxuICAgICAgICAoZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5KSAmJlxuICAgICAgICBldmVudC5zaGlmdEtleVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IGdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KGxheW91dCwgbnVsbCwgMik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0xvdS1yZV0gZnVybml0dXJlIGxheW91dDpcXG5cIiwganNvbik7XG4gICAgICAgIGlmIChuYXZpZ2F0b3I/LmNsaXBib2FyZD8ud3JpdGVUZXh0KSB7XG4gICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoanNvbikuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICByZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgcmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgcmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIGhhbmRsZVBvaW50ZXJMZWF2ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuXG4gICAgbGV0IGFuaW1hdGlvbkZyYW1lO1xuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICBjb250cm9scy51cGRhdGUoKTtcbiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgIGFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgIH07XG4gICAgYW5pbWF0ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyRG93bik7XG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwKTtcbiAgICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwb2ludGVybGVhdmVcIixcbiAgICAgICAgaGFuZGxlUG9pbnRlckxlYXZlXG4gICAgICApO1xuICAgICAgY29udHJvbHMuZGlzcG9zZSgpO1xuICAgICAgcmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuY29udGFpbnMocmVuZGVyZXIuZG9tRWxlbWVudCkpIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgY2xlYXJGdXJuaXR1cmUoKTtcbiAgICAgIGZ1cm5pdHVyZUhlbHBlcnNSZWYuY3VycmVudCA9IHtcbiAgICAgICAgYWRkU29mYTogbnVsbCxcbiAgICAgICAgYWRkVGFibGU6IG51bGwsXG4gICAgICAgIGFkZFBsYW50OiBudWxsLFxuICAgICAgICBjbGVhckZ1cm5pdHVyZTogbnVsbCxcbiAgICAgICAgc2F2ZUNsb3VkOiBudWxsLFxuICAgICAgICBsb2FkQ2xvdWQ6IG51bGwsXG4gICAgICB9O1xuICAgICAgZnVybml0dXJlR3JvdXBSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfTtcbiAgfSwgW2ZpbGVdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMHZoXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMwMDBcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiMwMDBcIixcbiAgICAgICAgICBjdXJzb3I6IFwiZ3JhYlwiLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwibG91cmVmLXRvb2xiYXJcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgcmlnaHQ6IFwiMTZweFwiLFxuICAgICAgICAgIHRvcDogXCI4MHB4XCIsXG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBnYXA6IFwiOHB4XCIsXG4gICAgICAgICAgcGFkZGluZzogXCIxMnB4XCIsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEycHhcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMTAsIDEwLCAxMCwgMC45KVwiLFxuICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICBmb250U2l6ZTogXCIxM3B4XCIsXG4gICAgICAgICAgbWF4V2lkdGg6IFwiMjQwcHhcIixcbiAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IDYwMCwgbWFyZ2luQm90dG9tOiBcIjRweFwiIH19PlxuICAgICAgICAgIEZ1cm5pdHVyZSB0b29sc1xuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBvcGFjaXR5OiAwLjgsIG1hcmdpbkJvdHRvbTogXCI4cHhcIiB9fT5cbiAgICAgICAgICBDbGljayB0byBkcm9wIGZ1cm5pdHVyZS4gQ2xpY2sgYW4gaXRlbSB0byBzZWxlY3QsIGRyYWcgdG8gbW92ZSwgdXNlXG4gICAgICAgICAgUS9FIG9yIOKGkC/ihpIgdG8gcm90YXRlLCBwcmVzcyBEZWxldGUgdG8gcmVtb3ZlLCBhbmQgcHJlc3MgQ3RybC/ijJggKyBTaGlmdFxuICAgICAgICAgICsgTCB0byBjb3B5IGxheW91dCBKU09OLlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZ1cm5pdHVyZUhlbHBlcnNSZWYuY3VycmVudC5hZGRTb2ZhPy4oKX1cbiAgICAgICAgICBzdHlsZT17dG9vbGJhckJ1dHRvblN0eWxlfVxuICAgICAgICA+XG4gICAgICAgICAgKyBBZGQgc29mYSAoYm94KVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZ1cm5pdHVyZUhlbHBlcnNSZWYuY3VycmVudC5hZGRUYWJsZT8uKCl9XG4gICAgICAgICAgc3R5bGU9e3Rvb2xiYXJCdXR0b25TdHlsZX1cbiAgICAgICAgPlxuICAgICAgICAgICsgQWRkIHRhYmxlIChib3gpXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZnVybml0dXJlSGVscGVyc1JlZi5jdXJyZW50LmFkZFBsYW50Py4oKX1cbiAgICAgICAgICBzdHlsZT17dG9vbGJhckJ1dHRvblN0eWxlfVxuICAgICAgICA+XG4gICAgICAgICAgKyBBZGQgcGxhbnQgKGN5bGluZGVyICsgY29uZSlcbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGhyIHN0eWxlPXt7IGJvcmRlckNvbG9yOiBcIiMzMzNcIiwgbWFyZ2luOiBcIjZweCAwXCIgfX0gLz5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZnVybml0dXJlSGVscGVyc1JlZi5jdXJyZW50LnNhdmVDbG91ZD8uKCl9XG4gICAgICAgICAgc3R5bGU9e3Rvb2xiYXJCdXR0b25TdHlsZX1cbiAgICAgICAgPlxuICAgICAgICAgIPCfkr4gU2F2ZSBsYXlvdXQgdG8gY2xvdWRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmdXJuaXR1cmVIZWxwZXJzUmVmLmN1cnJlbnQubG9hZENsb3VkPy4oKX1cbiAgICAgICAgICBzdHlsZT17dG9vbGJhckJ1dHRvblN0eWxlfVxuICAgICAgICA+XG4gICAgICAgICAg4piB77iPIExvYWQgbGF5b3V0IGZyb20gY2xvdWRcbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZ1cm5pdHVyZUhlbHBlcnNSZWYuY3VycmVudC5jbGVhckZ1cm5pdHVyZT8uKCl9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIC4uLnRvb2xiYXJCdXR0b25TdHlsZSxcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCI0cHhcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzU1NVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjMjIwMDAwXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZiM2IzXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIENsZWFyIGFsbCBmdXJuaXR1cmVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgdG9vbGJhckJ1dHRvblN0eWxlID0ge1xuICBwYWRkaW5nOiBcIjZweCAxMHB4XCIsXG4gIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgYm9yZGVyOiBcIjFweCBzb2xpZCAjMzMzXCIsXG4gIGJhY2tncm91bmQ6IFwiIzExMVwiLFxuICBjb2xvcjogXCIjZmZmXCIsXG4gIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gIHRleHRBbGlnbjogXCJsZWZ0XCIsXG59OyJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJUSFJFRSIsIkdMVEZMb2FkZXIiLCJPcmJpdENvbnRyb2xzIiwiRkxPT1JfWSIsIkxBWU9VVF9LRVkiLCJST09NX0lEIiwiTW9kZWxWaWV3ZXIiLCJmaWxlIiwiY29udGFpbmVyUmVmIiwiZnVybml0dXJlSGVscGVyc1JlZiIsImFkZFNvZmEiLCJhZGRUYWJsZSIsImFkZFBsYW50IiwiY2xlYXJGdXJuaXR1cmUiLCJzYXZlQ2xvdWQiLCJsb2FkQ2xvdWQiLCJmdXJuaXR1cmVHcm91cFJlZiIsImNvbnRyb2xzUmVmIiwiY29udGFpbmVyIiwiY3VycmVudCIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJzY2VuZSIsIlNjZW5lIiwiYmFja2dyb3VuZCIsIkNvbG9yIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2V0U2l6ZSIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImFtYmllbnRMaWdodCIsIkFtYmllbnRMaWdodCIsImFkZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0IiwiZnVybml0dXJlR3JvdXAiLCJHcm91cCIsInJvb21DZW50ZXIiLCJWZWN0b3IzIiwiUk9UQVRJT05fU1RFUCIsIk1hdGgiLCJQSSIsInJheWNhc3RlciIsIlJheWNhc3RlciIsInBvaW50ZXIiLCJWZWN0b3IyIiwiZHJhZ1BsYW5lIiwiUGxhbmUiLCJzZWxlY3RlZEZ1cm5pdHVyZSIsImlzRHJhZ2dpbmciLCJnZXRDdXJyZW50TGF5b3V0IiwiY2hpbGRyZW4iLCJtYXAiLCJjaGlsZCIsInR5cGUiLCJ1c2VyRGF0YSIsImZ1cm5pdHVyZVR5cGUiLCJ0b0FycmF5Iiwicm90YXRpb24iLCJ4IiwieSIsInoiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2F2ZUZ1cm5pdHVyZUxheW91dCIsImxvY2FsU3RvcmFnZSIsImxheW91dCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJjcmVhdGVGdXJuaXR1cmVNZXNoIiwibWVzaCIsIk1lc2giLCJCb3hHZW9tZXRyeSIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiY29sb3IiLCJyb3VnaG5lc3MiLCJmbG9vck9mZnNldCIsInBvdEhlaWdodCIsInBvdCIsIkN5bGluZGVyR2VvbWV0cnkiLCJsZWF2ZXMiLCJDb25lR2VvbWV0cnkiLCJmbG9vclkiLCJnZXREZWZhdWx0UG9zaXRpb24iLCJjbG9uZSIsInNwYXduRnVybml0dXJlIiwib3B0aW9ucyIsInJlbW92ZUZ1cm5pdHVyZSIsInJlbW92ZSIsInRyYXZlcnNlIiwib2JqIiwiaXNNZXNoIiwiZ2VvbWV0cnkiLCJkaXNwb3NlIiwiQXJyYXkiLCJpc0FycmF5IiwibWF0ZXJpYWwiLCJmb3JFYWNoIiwibWF0IiwiZ3JvdXAiLCJsZW5ndGgiLCJsb2FkRnVybml0dXJlTGF5b3V0IiwicmF3IiwiZ2V0SXRlbSIsInBhcnNlIiwiaXRlbSIsInNhdmVMYXlvdXRUb0Nsb3VkIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInJvb21faWQiLCJhbGVydCIsImVycm9yIiwibG9hZExheW91dEZyb21DbG91ZCIsInJlcyIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9rIiwidGV4dCIsImRhdGEiLCJqc29uIiwiY29udHJvbHMiLCJlbmFibGVEYW1waW5nIiwiZGFtcGluZ0ZhY3RvciIsImVuYWJsZVBhbiIsIm1heFBvbGFyQW5nbGUiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwibG9hZGVyIiwibG9hZCIsImdsdGYiLCJzY2FsZSIsImJveCIsIkJveDMiLCJzZXRGcm9tT2JqZWN0Iiwic2l6ZSIsImdldFNpemUiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJ0YXJnZXQiLCJjb3B5IiwibG9va0F0IiwieGhyIiwidG90YWwiLCJwZXJjZW50IiwibG9hZGVkIiwidG9GaXhlZCIsImxvZyIsImhhbmRsZVJlc2l6ZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVQb2ludGVyIiwiZXZlbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiZmluZEZ1cm5pdHVyZVJvb3QiLCJvYmplY3QiLCJwYXJlbnQiLCJoYW5kbGVQb2ludGVyRG93biIsInNldEZyb21DYW1lcmEiLCJpbnRlcnNlY3RzIiwiaW50ZXJzZWN0T2JqZWN0cyIsInJvb3QiLCJlbmFibGVkIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJpbnRlcnNlY3Rpb25Qb2ludCIsInJheSIsImludGVyc2VjdFBsYW5lIiwiZW5kRHJhZyIsImhhbmRsZVBvaW50ZXJVcCIsImhhbmRsZVBvaW50ZXJMZWF2ZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJyb3RhdGVMZWZ0Iiwicm90YXRlUmlnaHQiLCJkZWx0YSIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJjYXRjaCIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwidXBkYXRlIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJyZW1vdmVDaGlsZCIsImRpdiIsInN0eWxlIiwib3ZlcmZsb3ciLCJyZWYiLCJjdXJzb3IiLCJjbGFzc05hbWUiLCJyaWdodCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiZ2FwIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwibWF4V2lkdGgiLCJ6SW5kZXgiLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwib3BhY2l0eSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0b29sYmFyQnV0dG9uU3R5bGUiLCJociIsImJvcmRlckNvbG9yIiwibWFyZ2luIiwibWFyZ2luVG9wIiwiYm9yZGVyIiwidGV4dEFsaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/ModelViewer.jsx\n");

/***/ })

};
;